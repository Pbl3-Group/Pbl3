@model HeThongTimViec.ViewModels.HoSoDoanhNghiepViewModel
@using HeThongTimViec.Extensions
@{
    ViewData["Title"] = $"Hồ sơ Công ty - {Model.TenCongTy}";
    // Layout = "_LayoutNhaTuyenDung";
}


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <style>
        .profile-header { text-align: center; margin-bottom: 2rem; }
        .profile-logo { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid #fff; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 1rem; }
        .company-name { font-weight: 600; }
        .verification-badge { font-size: 0.9em; vertical-align: middle; margin-left: 10px; }
        .profile-card { border: none; box-shadow: 0 0.25rem 0.75rem rgba(0,0,0,0.05); border-radius: 0.5rem; overflow: hidden; margin-bottom: 1.5rem; }
        .profile-card .card-header { background-color: #f8f9fa; font-weight: 600; }
        .profile-card .card-header i { color: #0d6efd; margin-right: 0.5rem; }
        .info-row { display: flex; padding: 0.75rem 0; border-bottom: 1px solid #f1f1f1; align-items: baseline; }
        .info-row:last-child { border-bottom: none; }
        .info-label { font-weight: 500; color: #6c757d; flex: 0 0 200px; }
        .info-value { color: #212529; }
        .company-description { white-space: pre-wrap; line-height: 1.7; }
    </style>


<div class="container mt-4 mb-5">
    @if (TempData["SuccessMessage"] != null) {
        <div class="alert alert-success alert-dismissible fade show" role="alert">@TempData["SuccessMessage"]<button type="button" class="btn-close" data-bs-dismiss="alert"></button></div>
    }
    @if (TempData["ErrorMessage"] != null) {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">@TempData["ErrorMessage"]<button type="button" class="btn-close" data-bs-dismiss="alert"></button></div>
    }

    <!-- Header Trang -->
    <div class="profile-header">
        <img src="@(string.IsNullOrEmpty(Model.UrlLogo) ? "/images/company-logo-placeholder.png" : Url.Content(Model.UrlLogo))" alt="Logo công ty" class="profile-logo" />
        <h1 class="company-name h2">
            @Model.TenCongTy
            @if(Model.DaXacMinh) {
                <span class="badge bg-success verification-badge"><i class="fas fa-check-circle me-1"></i>Đã xác minh</span>
            } else {
                <span class="badge bg-warning text-dark verification-badge"><i class="fas fa-clock me-1"></i>Chờ xác minh</span>
            }
        </h1>
        @if (!string.IsNullOrEmpty(Model.UrlWebsite)) {
            <a href="@Model.UrlWebsite" target="_blank" rel="noopener noreferrer">@Model.UrlWebsite</a>
        }
    </div>

    <div class="text-center mb-4">
        <a asp-action="ChinhSuaHoSo" class="btn btn-primary"><i class="fas fa-edit me-1"></i> Chỉnh sửa Hồ sơ</a>
    </div>

    <div class="row g-4">
        <div class="col-lg-12">
            <!-- Thông tin công ty -->
            <div class="profile-card">
                <div class="card-header"><i class="fas fa-building"></i>Thông tin Doanh nghiệp</div>
                <div class="card-body p-4">
                    <div class="info-row"><div class="info-label">Mã số thuế</div><div class="info-value">@(!string.IsNullOrWhiteSpace(Model.MaSoThue) ? Model.MaSoThue : "Chưa cập nhật")</div></div>
                    <div class="info-row"><div class="info-label">Quy mô</div><div class="info-value">@(!string.IsNullOrWhiteSpace(Model.QuyMoCongTy) ? Model.QuyMoCongTy : "Chưa cập nhật")</div></div>
                    <div class="info-row"><div class="info-label">Địa chỉ ĐKKD</div><div class="info-value">@(!string.IsNullOrWhiteSpace(Model.DiaChiDangKy) ? Model.DiaChiDangKy : "Chưa cập nhật")</div></div>
                    <div class="mt-3">
                        <p class="info-label mb-1">Giới thiệu công ty</p>
                        <div class="info-value company-description">@(!string.IsNullOrWhiteSpace(Model.MoTa) ? Model.MoTa : "Chưa có mô tả.")</div>
                    </div>
                </div>
            </div>

            <!-- Thông tin người đại diện -->
            <div class="profile-card">
                <div class="card-header"><i class="fas fa-user-tie"></i>Người Đại diện & Liên hệ</div>
                <div class="card-body p-4">
                    <div class="info-row"><div class="info-label">Họ và tên</div><div class="info-value">@Model.HoTenNguoiDaiDien</div></div>
                    <div class="info-row"><div class="info-label">Giới tính</div><div class="info-value">@(Model.GioiTinhNguoiDaiDien.HasValue ? Model.GioiTinhNguoiDaiDien.Value.GetDisplayName() : "Chưa cập nhật")</div></div>
                    <div class="info-row"><div class="info-label">Ngày sinh</div><div class="info-value">@((Model.NgaySinhNguoiDaiDien.HasValue) ? Model.NgaySinhNguoiDaiDien.Value.ToString("dd/MM/yyyy") : "Chưa cập nhật")</div></div>
                    <hr class="my-2" />
                    <div class="info-row"><div class="info-label">Email</div><div class="info-value">@Model.EmailLienHe</div></div>
                    <div class="info-row"><div class="info-label">Số điện thoại</div><div class="info-value">@(!string.IsNullOrWhiteSpace(Model.SoDienThoaiLienHe) ? Model.SoDienThoaiLienHe : "Chưa cập nhật")</div></div>
                    <div class="info-row">
                        <div class="info-label">Địa chỉ liên hệ</div>
                        <div class="info-value">
                            @if (!string.IsNullOrWhiteSpace(Model.DiaChiChiTietNguoiDung) || !string.IsNullOrWhiteSpace(Model.TenQuanHuyen) || !string.IsNullOrWhiteSpace(Model.TenThanhPho)) {
                                @($"{Model.DiaChiChiTietNguoiDung}, {Model.TenQuanHuyen}, {Model.TenThanhPho}")
                            } else {
                                @("Chưa cập nhật địa chỉ.")
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    @* Thêm script nếu cần *@
}